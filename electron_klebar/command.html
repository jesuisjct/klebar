<script type="text/javascript">
    var http = require('http'); 

    function send_command()
    {
        //window.alert("hello test");

        if($("#command_status").val() == "") 
        {   $("#status_command").html("error : command is empty")
            return;
        }
        const options = {
            hostname: 'localhost',
            port: 8080,
            path: '/do?action=ceci&param=cela',
            method: 'GET'
        }
        options.path = "/do" + "?action=" + $("#command").val() + "&param=" + $("#param").val()
        console.log(options.path)
        const req = http.request(options, res => {
            console.log(`statusCode: ${res.statusCode}`)
            $("#status").html(`Status code  : ${res.statusCode} ${res.statusMessage} `)
            res.on('data', message => {
                console.log("data :" + message)
                $("#response_command").html(" " + message)
            })
        })
        
        req.on('error', error => {
            console.error(error)
            $("#status_command").html(error)
        })
        
        req.end()
    }
</script>

<div>
    <br> <br>
    Klebar command
    <br> <br>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span style="width: 120px; " class="input-group-text" id="inputGroup-sizing-default">Command</span>
      </div>
      <input id="command_command"  type="text" class="form-control" aria-label="Command" aria-describedby="inputGroup-sizing-default">
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span style="width: 120px; " class="input-group-text" id="inputGroup-sizing-default">Parameter</span>
      </div>
      <input id="param_command" type="text" class="form-control" aria-label="Parameter" aria-describedby="inputGroup-sizing-default">
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span style="width: 120px; " class="input-group-text">Status</span>
      </div>
      <textarea id="status_command" readonly class="form-control" aria-label="Status"></textarea>
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span style="width: 120px; " class="input-group-text">Response</span>
      </div>
      <textarea id="response_command" readonly class="form-control" aria-label="Response"></textarea>
    </div>
    <br><br>
    <button type="button" class="btn btn-light" onclick="send_command()"> Send command </button>
    <br>

</div>